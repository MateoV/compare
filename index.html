<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Compare</title>
<link rel="stylesheet" href="leaflet-dist/leaflet.css" />
<link rel="stylesheet" href='reset.css' />
<link rel="stylesheet" href='style.css' />
<script src='jquery.min.js'></script>
<script src='leaflet-dist/leaflet.js'></script>
<script type="text/javascript"
      src="http://maps.googleapis.com/maps/api/js?key=AIzaSyD-TB_1Ytvh0CjizmBk1x0low0izcy0Cyo&sensor=false">
    </script>
</head>
<body>
  <div class='map' id='osm'>
  </div>
  <div class='map' id='google'>
  </div>
</body>
</html>

<script>
$(function() {
  var osmLayer = new L.TileLayer(
        'http://a.tile.openstreetmap.org/{z}/{x}/{y}.png', 
        {maxZoom: 18, attribution: 'Map data &copy; 2011 OpenStreetMap contributors.'});
  var omap = new L.Map('osm');
  var h = document.location.hash.replace('#', '').split(',');
  var lat = 30, lng = -96, z = 4;
  if (h[0] && h[1] && h[2]) {
    lat = parseFloat(h[0]);
    lng = parseFloat(h[1]);
    z   = parseFloat(h[2]);
  }
  omap.setView(new L.LatLng(lat, lng), z).addLayer(osmLayer);

  var gmap = new google.maps.Map(document.getElementById('google'), {
    center: new google.maps.LatLng(-34.397, 150.644),
    zoom: 8,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  });

  omap.on('move', function(e) {
    var c = omap.getCenter();
    var z = omap.getZoom();
    document.location.hash = [c.lat, c.lng, z].join(',');
    gmap.setCenter(new google.maps.LatLng(c.lat, c.lng));
    gmap.setZoom(z);
  });
});
</script>
